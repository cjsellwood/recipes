(this.webpackJsonprecipes=this.webpackJsonprecipes||[]).push([[0],{15:function(e,t,n){e.exports={RecipesWrapper:"Recipes_RecipesWrapper__2ANop",RecipesContainer:"Recipes_RecipesContainer__3Y0gB",RecipeItem:"Recipes_RecipeItem__shgWc",DetailsContainer:"Recipes_DetailsContainer__3Mrj0",FilterModal:"Recipes_FilterModal__34VfE",FilterWrapper:"Recipes_FilterWrapper__2BfZC"}},19:function(e,t,n){e.exports={FilterContainer:"Filter_FilterContainer__RCB7a",Open:"Filter_Open__2g_uW",formWrapper:"Filter_formWrapper__1pdeA",CloseButton:"Filter_CloseButton__az4bp"}},28:function(e,t,n){e.exports={AddRecipe:"AddRecipe_AddRecipe__3SxrA",TimeContainer:"AddRecipe_TimeContainer__2Cu6i"}},29:function(e,t,n){e.exports={ListInput:"ListInput_ListInput__2S50O",MethodList:"ListInput_MethodList__2lQDo"}},30:function(e,t,n){e.exports={Button:"Button_Button__3R1xi",Save:"Button_Save__2is0_",Delete:"Button_Delete__3VrNe",Add:"Button_Add__GcQCw",DeleteRecipe:"Button_DeleteRecipe__e1tDF",Chevron:"Button_Chevron__3BRZ2"}},31:function(e,t,n){e.exports={Recipe:"Recipe_Recipe__2iQUq",DetailsContainer:"Recipe_DetailsContainer__25Cay"}},32:function(e,t,n){e.exports={EditRecipe:"EditRecipe_EditRecipe__ZdFW6",TimeContainer:"EditRecipe_TimeContainer__1acAu"}},34:function(e,t,n){e.exports={App:"App_App__16ZpL"}},35:function(e,t,n){e.exports={Nav:"Nav_Nav__cViw5"}},36:function(e,t,n){e.exports={PageTitle:"PageTitle_PageTitle__2pL08"}},37:function(e,t,n){e.exports={MenuButton:"MenuButton_MenuButton__nT2fw"}},40:function(e,t,n){e.exports={loader:"Spinner_loader__3ENkM",load3:"Spinner_load3__jjSEM"}},47:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var i=n(0),c=n(1),r=n.n(c),a=n(20),s=n.n(a),o=(n(47),n(2)),l=n(18),d=n(34),u=n.n(d),p=n(35),j=n.n(p),b=n(9),h=function(){return Object(i.jsx)("nav",{className:j.a.Nav,children:Object(i.jsxs)("ul",{children:[Object(i.jsx)("li",{children:Object(i.jsx)(b.b,{to:"/",children:"Recipes"})}),Object(i.jsx)("li",{children:Object(i.jsx)(b.b,{to:"/addrecipe",children:"Add Recipe"})}),Object(i.jsx)("li",{}),Object(i.jsx)("li",{children:Object(i.jsx)("button",{children:Object(i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:Object(i.jsx)("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"})})})})]})})},O=n(4),m=n(15),f=n.n(m),x=n(36),g=n.n(x),_=function(e){return Object(i.jsx)("h1",{className:g.a.PageTitle,children:e.children})},v=n(37),y=n.n(v),R=function(e){return Object(i.jsx)("button",{className:y.a.MenuButton,onClick:e.toggleFilter,type:"button",children:Object(i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",children:Object(i.jsx)("path",{fillRule:"evenodd",d:"M2.5 11.5A.5.5 0 0 1 3 11h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 3 7h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 3 3h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"})})})},C=n(19),E=n.n(C),L=function(e){var t=[E.a.FilterContainer];e.filterOpen&&t.push(E.a.Open);var n=[];for(var c in e.categories)n.push(Object(i.jsxs)("label",{name:c,children:[Object(i.jsx)("input",{type:"checkbox",checked:e.categories[c],name:c,onChange:e.changeChecked}),c]},c));return n.sort((function(e,t){var n=e.props.name.toLowerCase(),i=t.props.name.toLowerCase();return n<i?-1:n>i?1:0})),Object(i.jsxs)("div",{className:t.join(" "),children:[Object(i.jsx)("button",{className:E.a.CloseButton,onClick:e.toggleFilter,children:Object(i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:Object(i.jsx)("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"})})}),Object(i.jsx)("h3",{children:"Filter"}),Object(i.jsx)("div",{className:E.a.formWrapper,children:Object(i.jsx)("form",{children:Object(i.jsx)("div",{children:n})})})]})},I=n(5),S="SET_DETAILS",N="RESET_RECIPE_FORM",A="ADD_LIST_INPUT",w="SET_LIST_INPUT",D="REMOVE_LIST_INPUT",T="REPLACE_LIST",k="UPDATE_CATEGORIES",F="TOGGLE_CATEGORY",M="REPLACE_RECIPES",B="ADD_RECIPE",P="EDIT_RECIPE",U="DELETE_RECIPE",W=function(e,t){return{type:S,key:e,value:t}},H=function(e){return{type:A,key:e}},z=function(e,t){return{type:T,key:e,array:t}},q=Object(I.b)((function(e){return{recipes:e.recipes.recipes,categories:e.recipes.categories}}),(function(e){return{onToggleCategory:function(t){e(function(e){return{type:F,name:e}}(t))}}}))((function(e){var t=e.recipes.filter((function(t){return e.categories[t.category.toLowerCase()]})).map((function(e,t){return Object(i.jsxs)(b.b,{to:"/recipes/".concat(t),className:f.a.RecipeItem,name:e.name,children:[Object(i.jsx)("h2",{children:e.name}),Object(i.jsxs)("div",{className:f.a.DetailsContainer,children:[Object(i.jsx)("p",{children:e.category}),Object(i.jsxs)("p",{children:[e.time," ",""!==e.time?"Min":null]})]})]},t)}));t.sort((function(e,t){var n=e.props.name.toLowerCase(),i=t.props.name.toLowerCase();return n<i?-1:n>i?1:0}));var n=Object(c.useState)(!1),r=Object(l.a)(n,2),a=r[0],s=r[1],o=function(){s(!a)},d=[];a&&d.push(Object(i.jsx)("div",{className:f.a.FilterModal,onClick:o},"Filter"));return Object(i.jsxs)("div",{className:f.a.RecipesWrapper,children:[Object(i.jsxs)("section",{className:f.a.RecipesContainer,children:[Object(i.jsx)(_,{children:"Recipes"}),Object(i.jsx)("div",{children:t})]}),Object(i.jsx)(R,{toggleFilter:o}),d,Object(i.jsx)("div",{className:f.a.FilterWrapper,children:Object(i.jsx)(L,{filterOpen:a,toggleFilter:o,categories:e.categories,changeChecked:function(t){e.onToggleCategory(t.target.name)}})})]})})),G=n(28),V=n.n(G),J=n(29),Z=n.n(J),Q=n(30),K=n.n(Q),X=function(e){return Object(i.jsx)("button",{className:[K.a.Button,K.a[e.btnStyle]].join(" "),type:e.type,onClick:e.clickHandler,"data-index":e.index,"data-key":e.listName,children:e.children})},Y=n(39),$=n.n(Y),ee=Object(I.b)(null,(function(e){return{onRemoveListInput:function(t,n){e(function(e,t){return{type:D,key:e,index:t}}(t,n))},onSetListInput:function(t,n,i){e(function(e,t,n){return{type:w,key:e,index:t,value:n}}(t,n,i))}}}))((function(e){var t=[Z.a.ListInput];"method"===e.listName&&t.push(Z.a.MethodList);var n=Object(c.useRef)(null);return Object(i.jsx)("li",{className:t.join(" "),children:Object(i.jsxs)("div",{children:[Object(i.jsx)($.a,{ref:n,rows:1,type:"text",name:e.name,onChange:function(t){return e.onSetListInput(e.listName,e.index,t.target.value)},"data-index":e.index,value:e.name,autoComplete:"off",required:!0}),Object(i.jsx)(X,{type:"button",btnStyle:"Delete",index:e.index,listName:e.listName,clickHandler:function(){return e.onRemoveListInput(e.listName,e.index)},children:"Delete"},e.listName)]})})})),te=Object(I.b)((function(e){return{details:e.recipeForm.details,ingredients:e.recipeForm.ingredients,method:e.recipeForm.method}}),(function(e){return{onAddListInput:function(t){e(H(t))},onResetRecipeForm:function(){e({type:N})}}}))((function(e){Object(c.useEffect)((function(){e.onResetRecipeForm()}),[]);var t=e.ingredients.map((function(t,n){return Object(i.jsx)(ee,{setListInput:e.setListInput,index:n,name:t,removeListInput:e.removeListInput,listName:"ingredients"},n)})),n=e.method.map((function(t,n){return Object(i.jsx)(ee,{setListInput:e.setListInput,index:n,name:t,removeListInput:e.removeListInput,listName:"method"},n)}));return Object(i.jsxs)("div",{className:V.a.AddRecipe,children:[Object(i.jsx)(_,{children:"Add Recipe"}),Object(i.jsxs)("form",{onSubmit:e.saveRecipe,onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},children:[Object(i.jsx)("label",{children:"Name"}),Object(i.jsx)("input",{type:"text",name:"name",onChange:e.formChange,value:e.details.name,placeholder:"Enter Name",required:!0}),Object(i.jsx)("label",{children:"Category"}),Object(i.jsx)("input",{type:"text",name:"category",onChange:e.formChange,value:e.details.category,placeholder:"Enter Category",required:!0}),Object(i.jsx)("label",{children:"Time"}),Object(i.jsxs)("div",{className:V.a.TimeContainer,children:[Object(i.jsx)("input",{type:"number",name:"time",onChange:e.formChange,value:e.details.time,placeholder:"Enter Time"}),Object(i.jsx)("p",{children:"Minutes"})]}),Object(i.jsx)("label",{children:"Ingredients"}),Object(i.jsx)("ul",{children:t}),Object(i.jsx)(X,{type:"button",btnStyle:"Add",clickHandler:function(){return e.onAddListInput("ingredients")},children:"Add"}),Object(i.jsx)("label",{children:"Method"}),Object(i.jsx)("ol",{children:n}),Object(i.jsx)(X,{type:"button",btnStyle:"Add",clickHandler:function(){return e.onAddListInput("method")},children:"Add"}),Object(i.jsx)(X,{type:"submit",btnStyle:"Save",children:"Save"})]})]})})),ne=n(31),ie=n.n(ne),ce=Object(I.b)((function(e){return{recipes:e.recipes.recipes}}))((function(e){var t=Object(O.g)().pathname.split("/"),n=t[t.length-1];return 0===e.recipes.length?null:Object(i.jsxs)("section",{className:ie.a.Recipe,children:[Object(i.jsx)(_,{children:e.recipes[n].name}),Object(i.jsxs)("div",{className:ie.a.DetailsContainer,children:[Object(i.jsx)("p",{children:e.recipes[n].category}),Object(i.jsxs)("p",{children:[e.recipes[n].time," ",""!==e.recipes[n].time?"Min":null]})]}),Object(i.jsx)("h2",{children:"Ingredients"}),Object(i.jsx)("ul",{children:e.recipes[n].ingredients.map((function(e,t){return Object(i.jsx)("li",{children:e},t)}))}),Object(i.jsx)("h2",{children:"Method"}),Object(i.jsx)("ol",{children:e.recipes[n].method.map((function(e,t){return Object(i.jsx)("li",{children:e},t)}))}),Object(i.jsx)(b.b,{to:"/edit/".concat(n),children:"Edit"})]})})),re=n(40),ae=n.n(re),se=function(){return Object(i.jsx)("div",{className:ae.a.loader})},oe=n(32),le=n.n(oe),de=Object(I.b)((function(e){return{details:e.recipeForm.details,ingredients:e.recipeForm.ingredients,method:e.recipeForm.method,recipes:e.recipes.recipes}}),(function(e){return{onAddListInput:function(t){e(H(t))},onSetDetails:function(t,n){e(W(t,n))},onReplaceList:function(t,n){e(z(t,n))}}}))((function(e){var t=Object(O.g)().pathname.split("/"),n=t[t.length-1];Object(c.useEffect)((function(){e.onSetDetails("name",e.recipes[n].name),e.onSetDetails("category",e.recipes[n].category),e.onSetDetails("time",e.recipes[n].time),e.onReplaceList("ingredients",e.recipes[n].ingredients),e.onReplaceList("method",e.recipes[n].method)}),[]);var r=e.ingredients.map((function(t,n){return Object(i.jsx)(ee,{setListInput:e.setListInput,index:n,name:t,removeListInput:e.removeListInput,listName:"ingredients"},n)})),a=e.method.map((function(t,n){return Object(i.jsx)(ee,{setListInput:e.setListInput,index:n,name:t,removeListInput:e.removeListInput,listName:"method"},n)}));return Object(i.jsxs)("div",{className:le.a.EditRecipe,children:[Object(i.jsx)(_,{children:"Edit Recipe"}),Object(i.jsxs)("form",{onSubmit:function(t){return e.saveEditedRecipe(t,n)},onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},children:[Object(i.jsx)("label",{children:"Name"}),Object(i.jsx)("input",{type:"text",name:"name",value:e.details.name,onChange:e.formChange,placeholder:"Enter Name",required:!0}),Object(i.jsx)("label",{children:"Category"}),Object(i.jsx)("input",{type:"text",name:"category",value:e.details.category,onChange:e.formChange,placeholder:"Enter Category",required:!0}),Object(i.jsx)("label",{children:"Time"}),Object(i.jsxs)("div",{className:le.a.TimeContainer,children:[Object(i.jsx)("input",{type:"number",name:"time",onChange:e.formChange,value:e.details.time,placeholder:"Enter Time"}),Object(i.jsx)("p",{children:"Minutes"})]}),Object(i.jsx)("label",{children:"Ingredients"}),Object(i.jsx)("ul",{children:r}),Object(i.jsx)(X,{type:"button",btnStyle:"Add",clickHandler:function(){return e.onAddListInput("ingredients")},children:"Add"}),Object(i.jsx)("label",{children:"Method"}),Object(i.jsx)("ol",{children:a}),Object(i.jsx)(X,{type:"button",btnStyle:"Add",clickHandler:function(){return e.onAddListInput("method")},children:"Add"}),Object(i.jsx)(X,{type:"submit",btnStyle:"Save",children:"Save"}),Object(i.jsx)(X,{type:"button",btnStyle:"DeleteRecipe",clickHandler:function(t){return e.deleteRecipe(t,n)},children:"Delete"})]})]})}));function ue(){var e=Object(O.g)().pathname;return Object(c.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}var pe=Object(I.b)((function(e){return{details:e.recipeForm.details,ingredients:e.recipeForm.ingredients,method:e.recipeForm.method,categories:e.recipes.categories,recipes:e.recipes.recipes}}),(function(e){return{onSetDetails:function(t,n){e(W(t,n))},onReplaceList:function(t,n){e(z(t,n))},onUpdateCategories:function(){e({type:k})},onReplaceRecipes:function(t){e(function(e){return{type:M,newRecipes:e}}(t))},onAddRecipe:function(t){e(function(e){return{type:B,newRecipe:e}}(t))},onEditRecipe:function(t,n){e(function(e,t){return{type:P,editedRecipe:e,index:t}}(t,n))},onDeleteRecipe:function(t){e(function(e){return{type:U,index:e}}(t))}}}))((function(e){var t=Object(c.useState)(!0),n=Object(l.a)(t,2),r=n[0],a=n[1],s=Object(c.useState)(!1),d=Object(l.a)(s,2),p=d[0],j=d[1];Object(c.useEffect)((function(){p||fetch("https://recipes-f31ef-default-rtdb.firebaseio.com/recipes.json").then((function(e){return e.json()})).then((function(t){console.log("fetched",t);var n=[];if(null!==t){for(var i in t)n.push(Object(o.a)({},t[i]));e.onReplaceRecipes(n),a(!1),j(!0),e.onUpdateCategories(n)}})).catch((function(e){console.error(e)}))}),[]);var b=function(t){var n=t.target.name,i=t.target.value;e.onSetDetails(n,i)},m=Object(O.f)();return Object(i.jsxs)("div",{className:u.a.App,children:[Object(i.jsx)(ue,{}),Object(i.jsx)("header",{children:Object(i.jsx)(h,{})}),Object(i.jsxs)(O.c,{children:[Object(i.jsx)(O.a,{exact:!0,path:"/",children:r?Object(i.jsx)(se,{}):Object(i.jsx)(q,{})}),Object(i.jsx)(O.a,{path:"/addrecipe",children:r?Object(i.jsx)(se,{}):Object(i.jsx)(te,{formChange:b,saveRecipe:function(t){t.preventDefault();var n=Date.now(),i={name:e.details.name,category:e.details.category,time:e.details.time,ingredients:e.ingredients,method:e.method,id:n};fetch("https://recipes-f31ef-default-rtdb.firebaseio.com/recipes/".concat(n,".json"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}).then((function(e){return e.json()})).then((function(t){console.log("Successfully Added",t),e.onAddRecipe(i),e.onUpdateCategories(),m.push("/")})).catch((function(e){console.log("Error: ",e)}))}})}),Object(i.jsx)(O.a,{path:"/edit/:id",children:r?Object(i.jsx)(se,{}):Object(i.jsx)(de,{formChange:b,saveEditedRecipe:function(t,n){t.preventDefault();var i={name:e.details.name,category:e.details.category,time:e.details.time,ingredients:e.ingredients,method:e.method,id:e.recipes[n].id};fetch("https://recipes-f31ef-default-rtdb.firebaseio.com/recipes/".concat(e.recipes[n].id,".json"),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}).then((function(e){return e.json()})).then((function(t){console.log("Successfully Updated",t),e.onEditRecipe(i,n),e.onUpdateCategories(),m.push("/")})).catch((function(e){console.log("Error: ",e)}))},deleteRecipe:function(t,n){a(!0),fetch("https://recipes-f31ef-default-rtdb.firebaseio.com/recipes/".concat(e.recipes[n].id,".json"),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){console.log("Successfully Deleted",t),e.onDeleteRecipe(n),e.onUpdateCategories(),m.push("/"),a(!1)})).catch((function(e){console.log("Error: ",e)}))}})}),Object(i.jsx)(O.a,{path:"/:id",children:r?Object(i.jsx)(se,{}):Object(i.jsx)(ce,{})})]})]})})),je=n(14),be=n(12),he=n(11),Oe={details:{name:"",category:"",time:""},ingredients:[""],method:[""]},me=function(e,t){return Object(o.a)(Object(o.a)({},e),{},{details:Object(o.a)(Object(o.a)({},e.details),{},Object(he.a)({},t.key,t.value))})},fe=function(e,t){return Object(o.a)({},Oe)},xe=function(e,t){return Object(o.a)(Object(o.a)({},e),{},Object(he.a)({},t.key,[].concat(Object(be.a)(e[t.key]),[""])))},ge=function(e,t){var n=Object(be.a)(e[t.key]);return n.splice(t.index,1),Object(o.a)(Object(o.a)({},e),{},Object(he.a)({},t.key,n))},_e=function(e,t){var n=Object(be.a)(e[t.key]);return n[t.index]=t.value,Object(o.a)(Object(o.a)({},e),{},Object(he.a)({},t.key,n))},ve=function(e,t){return Object(o.a)(Object(o.a)({},e),{},Object(he.a)({},t.key,Object(be.a)(t.array)))},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return me(e,t);case N:return fe();case A:return xe(e,t);case D:return ge(e,t);case w:return _e(e,t);case T:return ve(e,t);default:return e}},Re={recipes:[],categories:[]},Ce=function(e,t){for(var n={},i=0;i<e.recipes.length;i++)n[e.recipes[i].category.toLowerCase()]=!0;return Object(o.a)(Object(o.a)({},e),{},{categories:n})},Ee=function(e,t){return Object(o.a)(Object(o.a)({},e),{},{categories:Object(o.a)(Object(o.a)({},e.categories),{},Object(he.a)({},t.name,!e.categories[t.name]))})},Le=function(e){for(var t=[],n=0;n<e.recipes.length;n++){var i={name:e.recipes[n].name,category:e.recipes[n].category,time:e.recipes[n].time,ingredients:Object(be.a)(e.recipes[n].ingredients),method:Object(be.a)(e.recipes[n].method)};t.push(i)}return t},Ie=function(e,t){return Object(o.a)(Object(o.a)({},e),{},{recipes:t.newRecipes})},Se=function(e,t){return Object(o.a)(Object(o.a)({},e),{},{recipes:Le(e).concat(t.newRecipe)})},Ne=function(e,t){var n=Le(e);return n.splice(t.index,1,t.editedRecipe),Object(o.a)(Object(o.a)({},e),{},{recipes:n})},Ae=function(e,t){var n=Le(e);return n.splice(t.index,1),Object(o.a)(Object(o.a)({},e),{},{recipes:n})},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Ce(e);case F:return Ee(e,t);case M:return Ie(e,t);case B:return Se(e,t);case P:return Ne(e,t);case U:return Ae(e,t);default:return e}},De=n(41),Te=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||je.d,ke=Object(je.c)({recipeForm:ye,recipes:we}),Fe=Object(je.e)(ke,Te(Object(je.a)(De.a)));s.a.render(Object(i.jsx)(r.a.StrictMode,{children:Object(i.jsx)(I.a,{store:Fe,children:Object(i.jsx)(b.a,{children:Object(i.jsx)(pe,{})})})}),document.getElementById("root"))}},[[57,1,2]]]);
//# sourceMappingURL=main.909cfb23.chunk.js.map