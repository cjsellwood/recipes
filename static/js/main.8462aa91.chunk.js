(this.webpackJsonprecipes=this.webpackJsonprecipes||[]).push([[0],[,,,,,,,,,,,function(e,t,n){e.exports={RecipesWrapper:"Recipes_RecipesWrapper__2ANop",RecipesContainer:"Recipes_RecipesContainer__3Y0gB",RecipeItem:"Recipes_RecipeItem__shgWc",DetailsContainer:"Recipes_DetailsContainer__3Mrj0",FilterModal:"Recipes_FilterModal__34VfE",FilterWrapper:"Recipes_FilterWrapper__2BfZC"}},,,function(e,t,n){e.exports={FilterContainer:"Filter_FilterContainer__RCB7a",Open:"Filter_Open__2g_uW",formWrapper:"Filter_formWrapper__1pdeA",CloseButton:"Filter_CloseButton__az4bp"}},,,,,,function(e,t,n){e.exports={AddRecipe:"AddRecipe_AddRecipe__3SxrA",TimeContainer:"AddRecipe_TimeContainer__2Cu6i"}},function(e,t,n){e.exports={ListInput:"ListInput_ListInput__2S50O",MethodList:"ListInput_MethodList__2lQDo"}},function(e,t,n){e.exports={Button:"Button_Button__3R1xi",Save:"Button_Save__2is0_",Delete:"Button_Delete__3VrNe",Add:"Button_Add__GcQCw",DeleteRecipe:"Button_DeleteRecipe__e1tDF",Chevron:"Button_Chevron__3BRZ2"}},function(e,t,n){e.exports={Recipe:"Recipe_Recipe__2iQUq",DetailsContainer:"Recipe_DetailsContainer__25Cay"}},function(e,t,n){e.exports={EditRecipe:"EditRecipe_EditRecipe__ZdFW6",TimeContainer:"EditRecipe_TimeContainer__1acAu"}},,,,function(e,t,n){e.exports={App:"App_App__16ZpL"}},function(e,t,n){e.exports={Nav:"Nav_Nav__cViw5"}},,function(e,t,n){e.exports={PageTitle:"PageTitle_PageTitle__2pL08"}},function(e,t,n){e.exports={MenuButton:"MenuButton_MenuButton__nT2fw"}},,function(e,t,n){e.exports={loader:"Spinner_loader__3ENkM",load3:"Spinner_load3__jjSEM"}},,,,,,function(e,t,n){},,,,,,,,,,function(e,t,n){"use strict";n.r(t);var c=n(0),i=n(1),r=n.n(i),a=n(27),s=n.n(a),l=(n(40),n(8)),o=n(25),d=n(9),j=n(28),p=n.n(j),u=n(29),h=n.n(u),b=n(6),O=function(){return Object(c.jsx)("nav",{className:h.a.Nav,children:Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{children:Object(c.jsx)(b.b,{to:"/",children:"Recipes"})}),Object(c.jsx)("li",{children:Object(c.jsx)(b.b,{to:"/addrecipe",children:"Add Recipe"})}),Object(c.jsx)("li",{}),Object(c.jsx)("li",{children:Object(c.jsx)("button",{children:Object(c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:Object(c.jsx)("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"})})})})]})})},m=n(2),x=n(11),g=n.n(x),f=n(31),_=n.n(f),v=function(e){return Object(c.jsx)("h1",{className:_.a.PageTitle,children:e.children})},C=n(32),y=n.n(C),R=function(e){return Object(c.jsx)("button",{className:y.a.MenuButton,onClick:e.toggleFilter,type:"button",children:Object(c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",children:Object(c.jsx)("path",{fillRule:"evenodd",d:"M2.5 11.5A.5.5 0 0 1 3 11h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 3 7h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 3 3h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"})})})},N=n(14),S=n.n(N),I=function(e){var t=[S.a.FilterContainer];e.filterOpen&&t.push(S.a.Open);var n=[];for(var i in e.categories)n.push(Object(c.jsxs)("label",{children:[Object(c.jsx)("input",{type:"checkbox",checked:e.categories[i],name:i,onChange:e.changeChecked}),i]},i));return Object(c.jsxs)("div",{className:t.join(" "),children:[Object(c.jsx)("button",{className:S.a.CloseButton,onClick:e.toggleFilter,children:Object(c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:Object(c.jsx)("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"})})}),Object(c.jsx)("h3",{children:"Filter"}),Object(c.jsx)("div",{className:S.a.formWrapper,children:Object(c.jsx)("form",{children:Object(c.jsx)("div",{children:n})})})]})},A=function(e){var t=e.recipes.filter((function(t){return e.categories[t.category]})).map((function(e,t){return Object(c.jsxs)(b.b,{to:"/recipes/".concat(t),className:g.a.RecipeItem,name:e.name,children:[Object(c.jsx)("h2",{children:e.name}),Object(c.jsxs)("div",{className:g.a.DetailsContainer,children:[Object(c.jsx)("p",{children:e.category}),Object(c.jsxs)("p",{children:[e.time," ",""!==e.time?"Min":null]})]})]},t)})),n=[];return e.filterOpen&&n.push(Object(c.jsx)("div",{className:g.a.FilterModal,onClick:e.toggleFilter},"Filter")),t.sort((function(e,t){var n=e.props.name.toUpperCase(),c=t.props.name.toUpperCase();return n<c?-1:n>c?1:0})),Object(c.jsxs)("div",{className:g.a.RecipesWrapper,children:[Object(c.jsxs)("section",{className:g.a.RecipesContainer,children:[Object(c.jsx)(v,{children:"Recipes"}),Object(c.jsx)("div",{children:t})]}),Object(c.jsx)(R,{toggleFilter:e.toggleFilter}),n,Object(c.jsx)("div",{className:g.a.FilterWrapper,children:Object(c.jsx)(I,{filterOpen:e.filterOpen,toggleFilter:e.toggleFilter,categories:e.categories,changeChecked:e.changeChecked})})]})},E=n(20),F=n.n(E),w=n(21),M=n.n(w),k=n(22),L=n.n(k),D=function(e){return Object(c.jsx)("button",{className:[L.a.Button,L.a[e.btnStyle]].join(" "),type:e.type,onClick:e.clickHandler,"data-index":e.index,"data-key":e.listName,children:e.children})},B=n(33),T=n.n(B),H=function(e){var t=[M.a.ListInput];"method"===e.listName&&t.push(M.a.MethodList);var n=Object(i.useRef)(null);return Object(c.jsx)("li",{className:t.join(" "),children:Object(c.jsxs)("div",{children:[Object(c.jsx)(T.a,{ref:n,rows:1,type:"text",name:e.name,onChange:e.changeHandler,"data-index":e.index,value:e.name,autoComplete:"off",required:!0}),Object(c.jsx)(D,{type:"button",btnStyle:"Delete",index:e.index,listName:e.listName,clickHandler:e.deleteListInput,children:"Delete"},e.listName)]})})},W=function(e){Object(i.useEffect)((function(){e.resetForm()}),[]);var t=e.ingredients.map((function(t,n){return Object(c.jsx)(H,{changeHandler:e.ingredientsChange,index:n,name:t,deleteListInput:e.deleteListInput,listName:"ingredients"},n)})),n=e.method.map((function(t,n){return Object(c.jsx)(H,{changeHandler:e.methodChange,index:n,name:t,deleteListInput:e.deleteListInput,listName:"method"},n)}));return Object(c.jsxs)("div",{className:F.a.AddRecipe,children:[Object(c.jsx)(v,{children:"Add Recipe"}),Object(c.jsxs)("form",{onSubmit:e.saveRecipe,onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},children:[Object(c.jsx)("label",{children:"Name"}),Object(c.jsx)("input",{type:"text",name:"name",onChange:e.formChange,value:e.name,placeholder:"Enter Name",required:!0}),Object(c.jsx)("label",{children:"Category"}),Object(c.jsx)("input",{type:"text",name:"category",onChange:e.formChange,value:e.category,placeholder:"Enter Category",required:!0}),Object(c.jsx)("label",{children:"Time"}),Object(c.jsxs)("div",{className:F.a.TimeContainer,children:[Object(c.jsx)("input",{type:"number",name:"time",onChange:e.formChange,value:e.time,placeholder:"Enter Time"}),Object(c.jsx)("p",{children:"Minutes"})]}),Object(c.jsx)("label",{children:"Ingredients"}),Object(c.jsx)("ul",{children:t}),Object(c.jsx)(D,{type:"button",btnStyle:"Add",clickHandler:e.addIngredientInput,children:"Add"}),Object(c.jsx)("label",{children:"Method"}),Object(c.jsx)("ol",{children:n}),Object(c.jsx)(D,{type:"button",btnStyle:"Add",clickHandler:e.addMethodInput,children:"Add"}),Object(c.jsx)(D,{type:"submit",btnStyle:"Save",children:"Save"})]})]})},z=n(23),q=n.n(z),P=function(e){var t=Object(m.g)().pathname.split("/"),n=t[t.length-1];return 0===e.recipes.length?null:Object(c.jsxs)("section",{className:q.a.Recipe,children:[Object(c.jsx)(v,{children:e.recipes[n].name}),Object(c.jsxs)("div",{className:q.a.DetailsContainer,children:[Object(c.jsx)("p",{children:e.recipes[n].category}),Object(c.jsxs)("p",{children:[e.recipes[n].time," ",""!==e.recipes[n].time?"Min":null]})]}),Object(c.jsx)("h2",{children:"Ingredients"}),Object(c.jsx)("ul",{children:e.recipes[n].ingredients.map((function(e,t){return Object(c.jsx)("li",{children:e},t)}))}),Object(c.jsx)("h2",{children:"Method"}),Object(c.jsx)("ol",{children:e.recipes[n].method.map((function(e,t){return Object(c.jsx)("li",{children:e},t)}))}),Object(c.jsx)(b.b,{to:"/edit/".concat(n),children:"Edit"})]})},U=n(34),J=n.n(U),Z=function(){return Object(c.jsx)("div",{className:J.a.loader})},Q=n(24),V=n.n(Q),K=function(e){var t=Object(m.g)().pathname.split("/"),n=t[t.length-1];Object(i.useEffect)((function(){e.editFormFill(n)}),[]);var r=e.ingredients.map((function(t,n){return Object(c.jsx)(H,{changeHandler:e.ingredientsChange,index:n,name:t,deleteListInput:e.deleteListInput,listName:"ingredients"},n)})),a=e.method.map((function(t,n){return Object(c.jsx)(H,{changeHandler:e.methodChange,index:n,name:t,deleteListInput:e.deleteListInput,listName:"method"},n)}));return Object(c.jsxs)("div",{className:V.a.EditRecipe,children:[Object(c.jsx)(v,{children:"Edit Recipe"}),Object(c.jsxs)("form",{onSubmit:function(t){return e.saveEditedRecipe(t,n)},onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},children:[Object(c.jsx)("label",{children:"Name"}),Object(c.jsx)("input",{type:"text",name:"name",value:e.name,onChange:e.formChange,placeholder:"Enter Name",required:!0}),Object(c.jsx)("label",{children:"Category"}),Object(c.jsx)("input",{type:"text",name:"category",value:e.category,onChange:e.formChange,placeholder:"Enter Category",required:!0}),Object(c.jsx)("label",{children:"Time"}),Object(c.jsxs)("div",{className:V.a.TimeContainer,children:[Object(c.jsx)("input",{type:"number",name:"time",onChange:e.formChange,value:e.time,placeholder:"Enter Time"}),Object(c.jsx)("p",{children:"Minutes"})]}),Object(c.jsx)("label",{children:"Ingredients"}),Object(c.jsx)("ul",{children:r}),Object(c.jsx)(D,{type:"button",btnStyle:"Add",clickHandler:e.addIngredientInput,children:"Add"}),Object(c.jsx)("label",{children:"Method"}),Object(c.jsx)("ol",{children:a}),Object(c.jsx)(D,{type:"button",btnStyle:"Add",clickHandler:e.addMethodInput,children:"Add"}),Object(c.jsx)(D,{type:"submit",btnStyle:"Save",children:"Save"}),Object(c.jsx)(D,{type:"button",btnStyle:"DeleteRecipe",clickHandler:function(t){return e.deleteRecipe(t,n)},children:"Delete"})]})]})};function G(){var e=Object(m.g)().pathname;return Object(i.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}var Y=function(){var e=Object(i.useState)(""),t=Object(d.a)(e,2),n=t[0],r=t[1],a=Object(i.useState)(""),s=Object(d.a)(a,2),j=s[0],u=s[1],h=Object(i.useState)(""),b=Object(d.a)(h,2),x=b[0],g=b[1],f=Object(i.useState)([""]),_=Object(d.a)(f,2),v=_[0],C=_[1],y=Object(i.useState)([""]),R=Object(d.a)(y,2),N=R[0],S=R[1],I=Object(i.useState)([]),E=Object(d.a)(I,2),F=E[0],w=E[1],M=Object(i.useState)(!0),k=Object(d.a)(M,2),L=k[0],D=k[1],B=Object(i.useState)(!1),T=Object(d.a)(B,2),H=T[0],z=T[1],q=Object(i.useState)({}),U=Object(d.a)(q,2),J=U[0],Q=U[1],V=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].category]=!0;Q(t)};Object(i.useEffect)((function(){H||fetch("https://recipes-f31ef-default-rtdb.firebaseio.com/recipes.json").then((function(e){return e.json()})).then((function(e){console.log("fetched",e);var t=[];if(null!==e){for(var n in e)t.push(Object(o.a)({},e[n]));w(t),D(!1),z(!0),V(t)}})).catch((function(e){console.error(e)}))}),[]);var Y=function(e){var t=e.target.name,n=e.target.value;switch(t){case"name":r(n);break;case"category":g(n);break;case"time":u(n)}},X=function(){C([].concat(Object(l.a)(v),[""]))},$=function(e){var t=e.target.getAttribute("data-index"),n=Object(l.a)(v);n[t]=e.target.value,C(n)},ee=function(){S([].concat(Object(l.a)(N),[""]))},te=function(e){for(var t=[],n=0;n<e.length;n++){var c={name:e[n].name,category:e[n].category,time:e[n].time,ingredients:Object(l.a)(e[n].ingredients),method:Object(l.a)(e[n].method)};t.push(c)}return t},ne=function(e){var t=e.target.getAttribute("data-index"),n=Object(l.a)(N);n[t]=e.target.value,S(n)},ce=Object(m.f)(),ie=function(e){var t=e.target.getAttribute("data-index");if("ingredients"===e.target.getAttribute("data-key")){var n=Object(l.a)(v);console.log(n),n.splice(t,1),console.log(n),C(n)}else{var c=Object(l.a)(N);c.splice(t,1),S(c)}},re=Object(i.useState)(!1),ae=Object(d.a)(re,2),se=ae[0],le=ae[1];return Object(c.jsxs)("div",{className:p.a.App,children:[Object(c.jsx)(G,{}),Object(c.jsx)("header",{children:Object(c.jsx)(O,{})}),Object(c.jsxs)(m.c,{children:[Object(c.jsx)(m.a,{exact:!0,path:"/",children:L?Object(c.jsx)(Z,{}):Object(c.jsx)(A,{recipes:F,toggleFilter:function(){le(!se)},filterOpen:se,categories:J,changeChecked:function(e){var t=Object(o.a)({},J);t[e.target.name]=!t[e.target.name],Q(t)}})}),Object(c.jsx)(m.a,{path:"/addrecipe",children:L?Object(c.jsx)(Z,{}):Object(c.jsx)(W,{name:n,category:x,time:j,formChange:Y,ingredients:v,ingredientsChange:$,addIngredientInput:X,method:N,methodChange:ne,addMethodInput:ee,saveRecipe:function(e){e.preventDefault();var t=Date.now(),c={name:n,category:x,time:j,ingredients:v,method:N,id:t},i=te(F);V(i),i.push(c),w(i),fetch("https://recipes-f31ef-default-rtdb.firebaseio.com/recipes/".concat(t,".json"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}).then((function(e){return e.json()})).then((function(e){return console.log("Successfully Added",e)})).catch((function(e){console.log("Error: ",e)})),ce.push("/")},deleteListInput:ie,resetForm:function(){r(""),g(""),u(""),C([""]),S([""])}})}),Object(c.jsx)(m.a,{path:"/edit/:id",children:L?Object(c.jsx)(Z,{}):Object(c.jsx)(K,{editFormFill:function(e){r(F[e].name),g(F[e].category),u(F[e].time),C(Object(l.a)(F[e].ingredients)),S(Object(l.a)(F[e].method))},recipes:F,name:n,category:x,time:j,formChange:Y,ingredients:v,ingredientsChange:$,addIngredientInput:X,method:N,methodChange:ne,addMethodInput:ee,saveEditedRecipe:function(e,t){e.preventDefault();var c={name:n,category:x,time:j,ingredients:v,method:N,id:F[t].id},i=te(F);i.splice(t,1,c),w(i),V(i),fetch("https://recipes-f31ef-default-rtdb.firebaseio.com/recipes/".concat(F[t].id,".json"),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}).then((function(e){return e.json()})).then((function(e){return console.log("Successfully Updated",e)})).catch((function(e){console.log("Error: ",e)})),ce.push("/")},deleteListInput:ie,deleteRecipe:function(e,t){D(!0),fetch("https://recipes-f31ef-default-rtdb.firebaseio.com/recipes/".concat(F[t].id,".json"),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log("Successfully Deleted",e),ce.push("/"),D(!1)})).catch((function(e){console.log("Error: ",e)}));var n=te(F);n.splice(t,1),w(n),V(n)}})}),Object(c.jsx)(m.a,{path:"/:id",children:L?Object(c.jsx)(Z,{}):Object(c.jsx)(P,{recipes:F})})]})]})};s.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(b.a,{children:Object(c.jsx)(Y,{})})}),document.getElementById("root"))}],[[50,1,2]]]);
//# sourceMappingURL=main.8462aa91.chunk.js.map